/* Register card - SJIT SCHOOL Landscape with Boxes & Effects - FIXED SPACING */

.login-card.register-card {
  position: relative;
  z-index: 3;
  max-width: 850px;
  width: 100%;
  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
  border-radius: 16px;
  padding: 2.2rem 3.2rem 2.5rem;
  box-shadow: 
    0 20px 60px rgba(30,64,175,0.15),
    0 8px 20px rgba(0,0,0,0.1),
    inset 0 1px 0 rgba(255,255,255,0.9);
  text-align: center;
  border: 2px solid rgba(59,130,246,0.2);
  max-height: none;
  overflow: visible;
  box-sizing: border-box;
}

/* Modal overlay and content - formal centered modal */
.modal-overlay {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(6,8,29,0.45); /* dark translucent backdrop */
  backdrop-filter: blur(6px) saturate(120%);
  z-index: 9998;
  padding: 2rem;
  box-sizing: border-box;
}

.modal-content {
  max-width: 880px;
  width: 100%;
  border-radius: 14px;
  box-shadow: 0 30px 80px rgba(2,6,23,0.6), 0 6px 22px rgba(2,6,23,0.15);
  background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(248,250,252,0.98));
  position: relative;
  padding: 1.4rem 1.8rem 1.8rem;
  display: flex;
  align-items: stretch;
  justify-content: center;
  box-sizing: border-box;
}

/* Close button style */
.modal-close {
  position: absolute;
  right: 12px;
  top: 10px;
  background: transparent;
  border: 0;
  font-size: 22px;
  color: #1f2937;
  cursor: pointer;
  line-height: 1;
  padding: 6px 8px;
  border-radius: 6px;
  transition: background 0.15s ease, transform 0.12s ease;
}
.modal-close:hover { background: rgba(15,23,42,0.06); transform: translateY(-1px); }

/* Ensure the login-card/register-card sits well inside modal-content */
.modal-content .login-card.register-card { 
  box-shadow: none; /* modal-content already has shadow */
  padding: 2rem 2.6rem;
  max-width: 820px;
}

/* Enforce stacking so the form and inputs are always above background layers */
.login-card.register-card {
  z-index: 9999 !important;
}

.login-card.register-card .register-form .form-field {
  position: relative !important;
  z-index: 2 !important;
}

.login-card.register-card .register-form input,
.login-card.register-card .register-form select,
.login-card.register-card .register-form button {
  position: relative !important;
  z-index: 3 !important;
}

/* Optional: subtle debug background to verify cell boundaries (remove if OK) */
.login-card.register-card .register-form .form-field {
  background: rgba(255,255,255,0) !important; /* leave transparent by default */
}

.login-card.register-card::before {
  content: '';
  position: absolute;
  inset: -3px;
  border-radius: 18px;
  background: linear-gradient(135deg, #1e40af, #3b82f6, #60a5fa);
  background-size: 200% 200%;
  filter: blur(8px);
  opacity: 0.3;
  z-index: -1;
  animation: gradientShift 4s ease infinite;
}

@keyframes gradientShift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

.login-card.register-card h2 {
  margin: 0 0 0.3rem 0;
  font-size: 1.7rem;
  font-weight: 700;
  background: linear-gradient(135deg, #1e40af, #3b82f6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: -0.3px;
  text-transform: uppercase;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  line-height: 1.2;
}

.login-card.register-card .subtitle {
  margin-bottom: 2rem;
  font-size: 0.85rem;
  color: #64748b;
  font-weight: 400;
  line-height: 1.3;
}

.register-form {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-areas: 
    "first last"
    "email email"
    "password password"
    "role school-id"
    "course school-name"
    "actions actions";
  gap: 1.2rem 1.6rem;
  row-gap: 1.6rem;
  column-gap: 1.6rem;
  margin-top: 1.2rem;
  width: 100%;
  align-items: start;
  justify-items: stretch;
  grid-auto-rows: minmax(56px, auto);
}

.register-form .form-field { 
  width: 100%; 
  display: flex;
  flex-direction: column;
  gap: 0.6rem;
  margin: 0 !important;
  padding: 0 !important;
  position: relative;
  text-align: left;
  min-height: auto;
  box-sizing: border-box;
  overflow: visible;
  align-self: stretch; /* make sure each field fills its grid cell vertically */
}

.register-form .form-field label {
  font-size: 0.75rem;
  font-weight: 700;
  color: #1e40af;
  margin: 0;
  padding: 0 0.25rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  line-height: 1.2;
  display: block;
  min-height: 18px;
}

.register-form .form-field.full { 
  grid-column: 1 / -1;
  width: 100%;
}

/* assign areas to each field explicitly */
.register-form .form-field.area-first { grid-area: first; }
.register-form .form-field.area-last { grid-area: last; }
.register-form .form-field.area-email { grid-area: email; }
.register-form .form-field.area-password { grid-area: password; }
.register-form .form-field.area-role { grid-area: role; }
.register-form .form-field.area-school-id { grid-area: school-id; }
.register-form .form-field.area-course { grid-area: course; }
.register-form .form-field.area-school-name { grid-area: school-name; }
.register-form .form-field.area-actions { grid-area: actions; }

.register-form .form-field.form-actions {
  grid-column: 1 / -1;
}

.register-form input,
.register-form select {
  width: 100%;
  padding: 1rem 1.1rem;
  border-radius: 10px;
  border: 2px solid #cbd5e1;
  font-size: 0.95rem;
  background: #ffffff;
  color: #0f172a;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  font-weight: 400;
  box-shadow: 
    0 2px 8px rgba(30,64,175,0.08),
    inset 0 1px 2px rgba(255,255,255,0.9);
  margin: 0 !important;
  display: block;
  box-sizing: border-box;
  min-height: 44px;
}

.register-form input::placeholder,
.register-form select::placeholder {
  color: #94a3b8;
  font-weight: 400;
}

.register-form input:focus,
.register-form select:focus {
  border-color: #1e40af;
  background: #ffffff;
  outline: none;
  box-shadow: 
    0 0 0 3px rgba(30,64,175,0.1),
    inset 0 1px 2px rgba(0,0,0,0.05);
}

/* Filled input effect */
.register-form input:valid:not(:placeholder-shown),
.register-form select:valid {
  border-color: #94a3b8;
  background: #ffffff;
}

.register-form .form-field::after {
  display: none;
}

.register-form .form-field:focus-within::after {
  display: none;
}

.form-actions {
  display: flex;
  justify-content: space-between;
  gap: 1.5rem;
  margin-top: 2rem;
  padding-top: 2rem;
  border-top: 2px solid rgba(59,130,246,0.15);
}

.form-actions button {
  flex: 1;
  background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
  color: #ffffff;
  padding: 0.9rem 1.5rem;
  border-radius: 10px;
  font-size: 0.9rem;
  font-weight: 700;
  cursor: pointer;
  border: none;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  letter-spacing: 0.5px;
  text-transform: uppercase;
  box-shadow: 
    0 4px 14px rgba(30,64,175,0.35),
    0 2px 6px rgba(0,0,0,0.15),
    inset 0 1px 0 rgba(255,255,255,0.3);
  position: relative;
  overflow: hidden;
}

/* Button shimmer effect */
.form-actions button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  transition: left 0.5s;
}

.form-actions button:hover::before {
  left: 100%;
}

.form-actions button:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 6px 20px rgba(30,64,175,0.45),
    0 4px 8px rgba(0,0,0,0.2),
    inset 0 1px 0 rgba(255,255,255,0.4);
  background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%);
}

.form-actions button:active {
  transform: translateY(0);
}

.form-actions button[type="submit"] {
  border: none;
}

.form-actions button:hover {
  background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%);
  box-shadow: 
    0 6px 16px rgba(30,64,175,0.35),
    0 4px 8px rgba(0,0,0,0.15);
  transform: translateY(-1px);
}

.form-actions button:active {
  box-shadow: 
    0 2px 6px rgba(30,64,175,0.25),
    0 1px 3px rgba(0,0,0,0.1);
  transform: translateY(0);
}

.form-actions .btn-secondary {
  background: #ffffff;
  color: #1e40af;
  border: 1.5px solid #cbd5e1;
  box-shadow: 
    0 2px 6px rgba(30,64,175,0.08),
    0 1px 3px rgba(0,0,0,0.05);
  position: relative;
  overflow: hidden;
  
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(30,64,175,0.1);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
  }
  
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(30,64,175,0.15), transparent);
    transition: left 0.5s;
  }
}

.form-actions .btn-secondary:hover {
  background: #f8fafc;
  border-color: #1e40af;
  color: #1e3a8a;
  box-shadow: 
    0 4px 10px rgba(30,64,175,0.15),
    0 2px 4px rgba(0,0,0,0.1);
  transform: translateY(-2px) scale(1.02);
  
  &::after {
    left: 100%;
  }
}

.form-actions .btn-secondary:active {
  transform: translateY(0) scale(0.98);
  box-shadow: 
    0 1px 4px rgba(30,64,175,0.12),
    0 1px 2px rgba(0,0,0,0.08);
  
  &::before {
    width: 300px;
    height: 300px;
    transition: width 0s, height 0s;
  }
}

.field-error { 
  color: #dc2626; 
  font-size: 0.7rem; 
  margin-top: 0.2rem; 
  grid-column: 1 / -1;
  font-weight: 600;
  text-align: left;
  padding-left: 0.15rem;
  line-height: 1.1;
}

/* Responsive */
@media (max-width: 860px) {
  .register-form { 
    grid-template-columns: 1fr; 
    grid-template-areas: 
      "first"
      "last"
      "email"
      "password"
      "role"
      "school-id"
      "course"
      "school-name"
      "actions";
    gap: 1.2rem;
  }
  .login-card.register-card { 
    padding: 1.8rem 2rem; 
    margin: 12px; 
    max-width: 550px; 
  }
  .form-actions { flex-direction: column; }
}

@media (max-width: 640px) {
  .modal-content { max-width: 95%; }
  .login-card.register-card { padding: 1.4rem 1.5rem; }
}

@keyframes fadeInUp { from { opacity:0; transform:translateY(18px); } to { opacity:1; transform:translateY(0);} }

/* Strong override to prevent any external CSS from collapsing the register grid.
   This is intentionally specific and placed at the end of the Register stylesheet
   so you can keep authoring only in your SCSS files. If this fixes the layout
   we can remove the !important flags later. */
.login-card.register-card .register-form {
  grid-auto-rows: minmax(72px, auto) !important; /* larger min height to accommodate label+input */
  justify-items: stretch !important;
  align-items: start !important;
}
.login-card.register-card .register-form .form-field {
  align-self: stretch !important;
  position: relative !important;
  box-sizing: border-box !important;
  overflow: visible !important;
  min-height: 72px !important; /* ensure field has enough height */
  padding-top: 6px !important; /* small top padding to separate label from above rows */
}

/* Strong overrides for inputs inside the register form to prevent any
   global/other stylesheet rules from shifting them on focus/hover. */
.login-card.register-card .register-form .form-field > label {
  display: block !important;
  margin: 0 0 6px 0 !important;
  padding: 0 0.25rem !important;
}

.login-card.register-card .register-form .form-field > input,
.login-card.register-card .register-form .form-field > select,
.login-card.register-card .register-form .form-field > button {
  position: relative !important;
  transform: none !important;
  margin: 0 !important;
  top: auto !important;
  left: auto !important;
  right: auto !important;
  bottom: auto !important;
}

/* Disable any translate/transform applied by other rules when inputs are focused */
.login-card.register-card .register-form input:focus,
.login-card.register-card .register-form select:focus {
  transform: none !important;
  box-shadow: 0 0 0 3px rgba(30,64,175,0.08) !important;
}


